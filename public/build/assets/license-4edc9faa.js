import{r as c,g as S,i as z,a as B,c as i,b as e,F as M,x as j,l as u,d as l,f as y,o as n,t as p,n as v,k as E}from"./app-47f6bd4e.js";import{_ as g}from"./ButtonColor-7d9772e6.js";import{_ as b,a as w}from"./ButtonPrimary-259d44f9.js";const G={class:"container p-5"},q={key:0,class:"relative overflow-x-auto"},A={class:"w-full text-sm text-left text-gray-500"},D=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," # "),e("th",{scope:"col",class:"px-6 py-3"}," License Key "),e("th",{scope:"col",class:"px-6 py-3"}," License Type "),e("th",{scope:"col",class:"px-6 py-3"}," Hạn Dùng "),e("th",{scope:"col",class:"px-6 py-3"}," Function ")])],-1),F={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap"},H={class:"px-6 py-4"},N={class:"px-6 py-4"},K={class:"px-6 py-4"},Q={class:"px-6 py-4"},U={key:1,class:"fixed z-50 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full flex justify-center items-center"},T={class:"relative w-full max-w-md max-h-full"},I={class:"relative bg-white rounded-lg shadow"},J=e("span",{class:"sr-only"},"Close modal",-1),O={class:"px-6 py-6 lg:px-8"},P=e("h3",{class:"mb-4 text-xl font-medium text-gray-900 capitalize"},"Sửa license",-1),R={class:"space-y-6"},W={key:2,class:"fixed z-50 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full flex justify-center items-center"},X={class:"relative w-full max-w-md max-h-full"},Y={class:"relative bg-white rounded-lg shadow"},Z=e("span",{class:"sr-only"},"Close modal",-1),ee={class:"px-6 py-6 lg:px-8"},te=e("h3",{class:"mb-4 text-xl font-medium text-gray-900 capitalize"},"Gia hạn",-1),se={class:"space-y-6"},ie={__name:"license",setup(ae){const h=c(null),r=c(!1),d=c(!1),o=c(null),_=c(0),m=S();function k(a){o.value=a,r.value=!0}function C(a){d.value=!0,o.value=a}async function V(){const a={license:o.value,quan:_.value};await y.post("api/license/extend",{data:a},{headers:{Authorization:`Bearer ${m.state.token}`}}).then(s=>{d.value=!1}).catch(s=>{}),await x()}async function $(){const a=o.value;await y.post("api/license/change",{license:a},{headers:{Authorization:`Bearer ${m.state.token}`}}).then(s=>{r.value=!1}).catch(s=>{}),await x()}async function x(){await y.get("api/license",{headers:{Authorization:`Bearer ${m.state.token}`}}).then(a=>{h.value=a.data}).catch(a=>{})}return z(x),(a,s)=>{const f=B("font-awesome-icon");return n(),i("div",G,[h.value!==null?(n(),i("div",q,[e("table",A,[D,e("tbody",null,[(n(!0),i(M,null,j(h.value,t=>(n(),i("tr",{key:t.id,class:"bg-white border-b"},[e("th",F,p(t.id),1),e("td",H,p(t.license_key),1),e("td",N,p(t.license_type),1),e("td",K,p(t.expiry_date==null?"Vĩnh Viễn":t.expiry_date),1),e("td",Q,[l(g,{class:v("bg-green-400 hover:bg-green-600 focus:ring-4 focus:ring-green-300"),onClick:L=>k(t),label:"Sửa"},null,8,["onClick"]),t.expiry_date!==null?(n(),E(g,{key:0,class:v("bg-teal-400 hover:bg-teal-600 focus:ring-4 focus:ring-teal-300"),onClick:L=>C(t),label:"Gia Hạn"},null,8,["onClick"])):u("",!0)])]))),128))])])])):u("",!0),r.value?(n(),i("div",U,[e("div",T,[e("div",I,[e("button",{type:"button",onClick:s[0]||(s[0]=t=>r.value=!1),class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center"},[l(f,{icon:["fas","xmark"]}),J]),e("div",O,[P,e("div",R,[e("div",null,[l(b,{modelValue:o.value.license_key,"onUpdate:modelValue":s[1]||(s[1]=t=>o.value.license_key=t),label:"License",type:"text",name:"licenseKey",placeholder:"Điền License Ở Đây",required:""},null,8,["modelValue"])]),l(w,{label:"Sửa",onClick:$})])])])])])):u("",!0),d.value?(n(),i("div",W,[e("div",X,[e("div",Y,[e("button",{type:"button",onClick:s[2]||(s[2]=t=>d.value=!1),class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ml-auto inline-flex justify-center items-center"},[l(f,{icon:["fas","xmark"]}),Z]),e("div",ee,[te,e("div",se,[e("div",null,[l(b,{modelValue:_.value,"onUpdate:modelValue":s[3]||(s[3]=t=>_.value=t),label:"Số Lượng",type:"number",name:"licenseQuan",placeholder:"vd mua 1h mà gia hạn tiếp 1h thì ghi 1",required:""},null,8,["modelValue"])]),l(w,{label:"Gia Hạn",onClick:V})])])])])])):u("",!0)])}}};export{ie as default};
