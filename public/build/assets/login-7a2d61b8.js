import{g as x,s as c,r as b,c as r,b as e,t as g,l as p,m as d,v as f,B as y,A as v,o as l,f as w,C as k}from"./app-47f6bd4e.js";const V={class:"container m-auto"},z=e("h1",{class:"text-center text-5xl font-bold mt-5"}," Đăng Nhập",-1),B={key:0,class:"error flex flex-col gap-2"},C={class:"text-green-600 capitalize"},L={key:1,class:"error flex flex-col gap-2"},M={class:"text-red-600 capitalize"},N=["onSubmit"],S={class:"mt-5"},U={class:"mb-6"},D=e("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-900 capitalize"},"email của bạn",-1),T={class:"mb-6"},q=e("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-900"},"Mật khẩu",-1),I={class:"flex items-start mb-6"},A={class:"flex items-center h-5"},E=e("label",{for:"remember",class:"ml-2 text-sm font-medium text-gray-900"},"Remember me",-1),F={key:0},H=e("button",{disabled:"",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center"},"Loading....",-1),R=[H],j={key:1},G=e("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center capitalize"},"Đăng nhập",-1),J=[G],P={__name:"login",setup(K){const u=x(),m=c({status:!1,message:"Đăng Nhập Thành Công"}),n=c({status:!1,message:""}),s=c({email:"",password:"",remember:!1}),_=b(!1),i=b(!1);async function h(){if(!i.value)try{i.value=!0;const t=await w.post("/api/login",{email:s.email,password:s.password,remember:s.remember});t.status===200?(u.dispatch("setUser",t.data.user),u.dispatch("setToken",t.data.token),k.push({name:"Home"})):console.error("Login failed: Invalid response status")}catch(t){n.status=!0,n.message=t.message}finally{i.value=!1}}return(t,o)=>(l(),r("div",V,[z,m.status?(l(),r("ul",B,[e("span",C,g(m.message),1)])):p("",!0),n.status?(l(),r("ul",L,[e("span",M,"đăng nhập ko thành công: "+g(n.message),1)])):p("",!0),e("form",{onSubmit:v(h,["prevent"])},[e("div",S,[e("div",U,[D,d(e("input",{type:"email",id:"email","onUpdate:modelValue":o[0]||(o[0]=a=>s.email=a),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",placeholder:"name@gmail.com",autocomplete:"email",required:""},null,512),[[f,s.email]])]),e("div",T,[q,d(e("input",{type:"password",id:"password","onUpdate:modelValue":o[1]||(o[1]=a=>s.password=a),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",required:"",placeholder:"****************",autocomplete:"current-password"},null,512),[[f,s.password]])]),e("div",I,[e("div",A,[d(e("input",{id:"remember",type:"checkbox",value:"",class:"w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-blue-300","onUpdate:modelValue":o[2]||(o[2]=a=>s.remember=a)},null,512),[[y,s.remember]])]),E]),_.value?(l(),r("div",F,R)):(l(),r("div",j,J))])],40,N)]))}};export{P as default};
